<a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-import-sorts</a> <a id="41" class="Pragma">--safe</a> <a id="48" class="Symbol">#-}</a>
<a id="52" class="Keyword">module</a> <a id="59" href="Cubical.Functions.Fibration.html" class="Module">Cubical.Functions.Fibration</a> <a id="87" class="Keyword">where</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Cubical.Foundations.GroupoidLaws.html" class="Module">Cubical.Foundations.GroupoidLaws</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Cubical.Foundations.Path.html" class="Module">Cubical.Foundations.Path</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Cubical.Foundations.Univalence.html" class="Module">Cubical.Foundations.Univalence</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Cubical.Foundations.Transport.html" class="Module">Cubical.Foundations.Transport</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>

<a id="456" class="Keyword">module</a> <a id="FiberIso"></a><a id="463" href="Cubical.Functions.Fibration.html#463" class="Module">FiberIso</a> <a id="472" class="Symbol">{</a><a id="473" href="Cubical.Functions.Fibration.html#473" class="Bound">ℓb</a><a id="475" class="Symbol">}</a> <a id="477" class="Symbol">{</a><a id="478" href="Cubical.Functions.Fibration.html#478" class="Bound">B</a> <a id="480" class="Symbol">:</a> <a id="482" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="487" href="Cubical.Functions.Fibration.html#473" class="Bound">ℓb</a><a id="489" class="Symbol">}</a> <a id="491" class="Symbol">{</a><a id="492" href="Cubical.Functions.Fibration.html#492" class="Bound">ℓ</a><a id="493" class="Symbol">}</a> <a id="495" class="Symbol">(</a><a id="496" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="500" class="Symbol">:</a> <a id="502" href="Cubical.Functions.Fibration.html#478" class="Bound">B</a> <a id="504" class="Symbol">→</a> <a id="506" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="511" href="Cubical.Functions.Fibration.html#492" class="Bound">ℓ</a><a id="512" class="Symbol">)</a> <a id="514" class="Symbol">(</a><a id="515" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="517" class="Symbol">:</a> <a id="519" href="Cubical.Functions.Fibration.html#478" class="Bound">B</a><a id="520" class="Symbol">)</a> <a id="522" class="Keyword">where</a>

  <a id="FiberIso.p"></a><a id="531" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="533" class="Symbol">:</a> <a id="535" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="537" href="Cubical.Functions.Fibration.html#478" class="Bound">B</a> <a id="539" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="543" class="Symbol">→</a> <a id="545" href="Cubical.Functions.Fibration.html#478" class="Bound">B</a>
  <a id="549" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="551" class="Symbol">=</a> <a id="553" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a>

  <a id="FiberIso.fwd"></a><a id="560" href="Cubical.Functions.Fibration.html#560" class="Function">fwd</a> <a id="564" class="Symbol">:</a> <a id="566" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="572" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="574" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="576" class="Symbol">→</a> <a id="578" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="582" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a>
  <a id="586" href="Cubical.Functions.Fibration.html#560" class="Function">fwd</a> <a id="590" class="Symbol">((</a><a id="592" href="Cubical.Functions.Fibration.html#592" class="Bound">x&#39;</a> <a id="595" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="597" href="Cubical.Functions.Fibration.html#597" class="Bound">y</a><a id="598" class="Symbol">)</a> <a id="600" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="602" href="Cubical.Functions.Fibration.html#602" class="Bound">q</a><a id="603" class="Symbol">)</a> <a id="605" class="Symbol">=</a> <a id="607" href="Cubical.Foundations.Prelude.html#7449" class="Function">subst</a> <a id="613" class="Symbol">(λ</a> <a id="616" href="Cubical.Functions.Fibration.html#616" class="Bound">z</a> <a id="618" class="Symbol">→</a> <a id="620" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="624" href="Cubical.Functions.Fibration.html#616" class="Bound">z</a><a id="625" class="Symbol">)</a> <a id="627" href="Cubical.Functions.Fibration.html#602" class="Bound">q</a> <a id="629" href="Cubical.Functions.Fibration.html#597" class="Bound">y</a>

  <a id="FiberIso.bwd"></a><a id="634" href="Cubical.Functions.Fibration.html#634" class="Function">bwd</a> <a id="638" class="Symbol">:</a> <a id="640" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="644" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="646" class="Symbol">→</a> <a id="648" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="654" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="656" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a>
  <a id="660" href="Cubical.Functions.Fibration.html#634" class="Function">bwd</a> <a id="664" href="Cubical.Functions.Fibration.html#664" class="Bound">y</a> <a id="666" class="Symbol">=</a> <a id="668" class="Symbol">(</a><a id="669" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="671" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="673" href="Cubical.Functions.Fibration.html#664" class="Bound">y</a><a id="674" class="Symbol">)</a> <a id="676" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="678" href="Cubical.Foundations.Prelude.html#898" class="Function">refl</a>

  <a id="FiberIso.fwd-bwd"></a><a id="686" href="Cubical.Functions.Fibration.html#686" class="Function">fwd-bwd</a> <a id="694" class="Symbol">:</a> <a id="696" class="Symbol">∀</a> <a id="698" href="Cubical.Functions.Fibration.html#698" class="Bound">x</a> <a id="700" class="Symbol">→</a> <a id="702" href="Cubical.Functions.Fibration.html#560" class="Function">fwd</a> <a id="706" class="Symbol">(</a><a id="707" href="Cubical.Functions.Fibration.html#634" class="Function">bwd</a> <a id="711" href="Cubical.Functions.Fibration.html#698" class="Bound">x</a><a id="712" class="Symbol">)</a> <a id="714" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="716" href="Cubical.Functions.Fibration.html#698" class="Bound">x</a>
  <a id="720" href="Cubical.Functions.Fibration.html#686" class="Function">fwd-bwd</a> <a id="728" href="Cubical.Functions.Fibration.html#728" class="Bound">y</a> <a id="730" class="Symbol">=</a> <a id="732" href="Cubical.Foundations.Prelude.html#7139" class="Function">transportRefl</a> <a id="746" href="Cubical.Functions.Fibration.html#728" class="Bound">y</a>

  <a id="FiberIso.bwd-fwd"></a><a id="751" href="Cubical.Functions.Fibration.html#751" class="Function">bwd-fwd</a> <a id="759" class="Symbol">:</a> <a id="761" class="Symbol">∀</a> <a id="763" href="Cubical.Functions.Fibration.html#763" class="Bound">x</a> <a id="765" class="Symbol">→</a> <a id="767" href="Cubical.Functions.Fibration.html#634" class="Function">bwd</a> <a id="771" class="Symbol">(</a><a id="772" href="Cubical.Functions.Fibration.html#560" class="Function">fwd</a> <a id="776" href="Cubical.Functions.Fibration.html#763" class="Bound">x</a><a id="777" class="Symbol">)</a> <a id="779" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="781" href="Cubical.Functions.Fibration.html#763" class="Bound">x</a>
  <a id="785" href="Cubical.Functions.Fibration.html#751" class="Function">bwd-fwd</a> <a id="793" class="Symbol">((</a><a id="795" href="Cubical.Functions.Fibration.html#795" class="Bound">x&#39;</a> <a id="798" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="800" href="Cubical.Functions.Fibration.html#800" class="Bound">y</a><a id="801" class="Symbol">)</a> <a id="803" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="805" href="Cubical.Functions.Fibration.html#805" class="Bound">q</a><a id="806" class="Symbol">)</a> <a id="808" href="Cubical.Functions.Fibration.html#808" class="Bound">i</a> <a id="810" class="Symbol">=</a> <a id="812" href="Cubical.Functions.Fibration.html#830" class="Function">h</a> <a id="814" class="Symbol">(</a><a id="815" href="Cubical.Functions.Fibration.html#930" class="Function">r</a> <a id="817" href="Cubical.Functions.Fibration.html#808" class="Bound">i</a><a id="818" class="Symbol">)</a>
    <a id="824" class="Keyword">where</a> <a id="830" href="Cubical.Functions.Fibration.html#830" class="Function">h</a> <a id="832" class="Symbol">:</a> <a id="834" href="Cubical.Core.Primitives.html#6302" class="Function">Σ[</a> <a id="837" href="Cubical.Functions.Fibration.html#837" class="Bound">s</a> <a id="839" href="Cubical.Core.Primitives.html#6302" class="Function">∈</a> <a id="841" href="Cubical.Foundations.Prelude.html#10116" class="Function">singl</a> <a id="847" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="849" href="Cubical.Core.Primitives.html#6302" class="Function">]</a> <a id="851" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="855" class="Symbol">(</a><a id="856" href="Cubical.Functions.Fibration.html#837" class="Bound">s</a> <a id="858" class="Symbol">.</a><a id="859" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a><a id="862" class="Symbol">)</a> <a id="864" class="Symbol">→</a> <a id="866" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="872" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="874" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a>
          <a id="886" href="Cubical.Functions.Fibration.html#830" class="Function">h</a> <a id="888" class="Symbol">((</a><a id="890" href="Cubical.Functions.Fibration.html#890" class="Bound">x</a> <a id="892" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="894" href="Cubical.Functions.Fibration.html#894" class="Bound">p</a><a id="895" class="Symbol">)</a> <a id="897" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="899" href="Cubical.Functions.Fibration.html#899" class="Bound">y</a><a id="900" class="Symbol">)</a> <a id="902" class="Symbol">=</a> <a id="904" class="Symbol">(</a><a id="905" href="Cubical.Functions.Fibration.html#890" class="Bound">x</a> <a id="907" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="909" href="Cubical.Functions.Fibration.html#899" class="Bound">y</a><a id="910" class="Symbol">)</a> <a id="912" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="914" href="Cubical.Foundations.Prelude.html#955" class="Function">sym</a> <a id="918" href="Cubical.Functions.Fibration.html#894" class="Bound">p</a>
          <a id="930" href="Cubical.Functions.Fibration.html#930" class="Function">r</a> <a id="932" class="Symbol">:</a> <a id="934" href="Cubical.Core.Primitives.html#1876" class="Function">Path</a> <a id="939" class="Symbol">(</a><a id="940" href="Cubical.Core.Primitives.html#6302" class="Function">Σ[</a> <a id="943" href="Cubical.Functions.Fibration.html#943" class="Bound">s</a> <a id="945" href="Cubical.Core.Primitives.html#6302" class="Function">∈</a> <a id="947" href="Cubical.Foundations.Prelude.html#10116" class="Function">singl</a> <a id="953" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="955" href="Cubical.Core.Primitives.html#6302" class="Function">]</a> <a id="957" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="961" class="Symbol">(</a><a id="962" href="Cubical.Functions.Fibration.html#943" class="Bound">s</a> <a id="964" class="Symbol">.</a><a id="965" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a><a id="968" class="Symbol">))</a>
                   <a id="990" class="Symbol">((</a><a id="992" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a>  <a id="995" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="997" href="Cubical.Foundations.Prelude.html#898" class="Function">refl</a> <a id="1002" class="Symbol">)</a> <a id="1004" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1006" href="Cubical.Foundations.Prelude.html#7449" class="Function">subst</a> <a id="1012" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="1016" href="Cubical.Functions.Fibration.html#805" class="Bound">q</a> <a id="1018" href="Cubical.Functions.Fibration.html#800" class="Bound">y</a><a id="1019" class="Symbol">)</a>
                   <a id="1040" class="Symbol">((</a><a id="1042" href="Cubical.Functions.Fibration.html#795" class="Bound">x&#39;</a> <a id="1045" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1047" href="Cubical.Foundations.Prelude.html#955" class="Function">sym</a> <a id="1051" href="Cubical.Functions.Fibration.html#805" class="Bound">q</a><a id="1052" class="Symbol">)</a> <a id="1054" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1056" href="Cubical.Functions.Fibration.html#800" class="Bound">y</a>                            <a id="1085" class="Symbol">)</a>
          <a id="1097" href="Cubical.Functions.Fibration.html#930" class="Function">r</a> <a id="1099" class="Symbol">=</a> <a id="1101" href="Cubical.Data.Sigma.Properties.html#1899" class="Function">ΣPathP</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Cubical.Foundations.Prelude.html#10179" class="Function">isContrSingl</a> <a id="1122" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="1124" class="Symbol">.</a><a id="1125" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="1129" class="Symbol">(</a><a id="1130" href="Cubical.Functions.Fibration.html#795" class="Bound">x&#39;</a> <a id="1133" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1135" href="Cubical.Foundations.Prelude.html#955" class="Function">sym</a> <a id="1139" href="Cubical.Functions.Fibration.html#805" class="Bound">q</a><a id="1140" class="Symbol">)</a>
                     <a id="1163" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1165" href="Cubical.Foundations.Prelude.html#9000" class="Function">toPathP</a> <a id="1173" class="Symbol">(</a><a id="1174" href="Cubical.Foundations.Transport.html#2027" class="Function">transport⁻Transport</a> <a id="1194" class="Symbol">(λ</a> <a id="1197" href="Cubical.Functions.Fibration.html#1197" class="Bound">i</a> <a id="1199" class="Symbol">→</a> <a id="1201" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="1205" class="Symbol">(</a><a id="1206" href="Cubical.Functions.Fibration.html#805" class="Bound">q</a> <a id="1208" href="Cubical.Functions.Fibration.html#1197" class="Bound">i</a><a id="1209" class="Symbol">))</a> <a id="1212" href="Cubical.Functions.Fibration.html#800" class="Bound">y</a><a id="1213" class="Symbol">))</a>

  <a id="1219" class="Comment">-- HoTT Lemma 4.8.1</a>
  <a id="FiberIso.fiberEquiv"></a><a id="1241" href="Cubical.Functions.Fibration.html#1241" class="Function">fiberEquiv</a> <a id="1252" class="Symbol">:</a> <a id="1254" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="1260" href="Cubical.Functions.Fibration.html#531" class="Function">p</a> <a id="1262" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a> <a id="1264" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="1266" href="Cubical.Functions.Fibration.html#496" class="Bound">p⁻¹</a> <a id="1270" href="Cubical.Functions.Fibration.html#515" class="Bound">x</a>
  <a id="1274" href="Cubical.Functions.Fibration.html#1241" class="Function">fiberEquiv</a> <a id="1285" class="Symbol">=</a> <a id="1287" href="Cubical.Foundations.Isomorphism.html#3134" class="Function">isoToEquiv</a> <a id="1298" class="Symbol">(</a><a id="1299" href="Cubical.Foundations.Isomorphism.html#876" class="InductiveConstructor">iso</a> <a id="1303" href="Cubical.Functions.Fibration.html#560" class="Function">fwd</a> <a id="1307" href="Cubical.Functions.Fibration.html#634" class="Function">bwd</a> <a id="1311" href="Cubical.Functions.Fibration.html#686" class="Function">fwd-bwd</a> <a id="1319" href="Cubical.Functions.Fibration.html#751" class="Function">bwd-fwd</a><a id="1326" class="Symbol">)</a>

<a id="1329" class="Keyword">open</a> <a id="1334" href="Cubical.Functions.Fibration.html#463" class="Module">FiberIso</a> <a id="1343" class="Keyword">using</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Cubical.Functions.Fibration.html#1241" class="Function">fiberEquiv</a><a id="1360" class="Symbol">)</a> <a id="1362" class="Keyword">public</a>

<a id="1370" class="Keyword">module</a> <a id="1377" href="Cubical.Functions.Fibration.html#1377" class="Module">_</a> <a id="1379" class="Symbol">{</a><a id="1380" href="Cubical.Functions.Fibration.html#1380" class="Bound">ℓb</a><a id="1382" class="Symbol">}</a> <a id="1384" class="Symbol">{</a><a id="1385" href="Cubical.Functions.Fibration.html#1385" class="Bound">B</a> <a id="1387" class="Symbol">:</a> <a id="1389" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1394" href="Cubical.Functions.Fibration.html#1380" class="Bound">ℓb</a><a id="1396" class="Symbol">}</a> <a id="1398" class="Symbol">{</a><a id="1399" href="Cubical.Functions.Fibration.html#1399" class="Bound">ℓ</a><a id="1400" class="Symbol">}</a> <a id="1402" class="Symbol">{</a><a id="1403" href="Cubical.Functions.Fibration.html#1403" class="Bound">E</a> <a id="1405" class="Symbol">:</a> <a id="1407" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1412" href="Cubical.Functions.Fibration.html#1399" class="Bound">ℓ</a><a id="1413" class="Symbol">}</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Cubical.Functions.Fibration.html#1416" class="Bound">p</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="Cubical.Functions.Fibration.html#1403" class="Bound">E</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Cubical.Functions.Fibration.html#1385" class="Bound">B</a><a id="1425" class="Symbol">)</a> <a id="1427" class="Keyword">where</a>

  <a id="1436" class="Comment">-- HoTT Lemma 4.8.2</a>
  <a id="1458" href="Cubical.Functions.Fibration.html#1458" class="Function">totalEquiv</a> <a id="1469" class="Symbol">:</a> <a id="1471" href="Cubical.Functions.Fibration.html#1403" class="Bound">E</a> <a id="1473" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="1475" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="1477" href="Cubical.Functions.Fibration.html#1385" class="Bound">B</a> <a id="1479" class="Symbol">(</a><a id="1480" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="1486" href="Cubical.Functions.Fibration.html#1416" class="Bound">p</a><a id="1487" class="Symbol">)</a>
  <a id="1491" href="Cubical.Functions.Fibration.html#1458" class="Function">totalEquiv</a> <a id="1502" class="Symbol">=</a> <a id="1504" href="Cubical.Foundations.Isomorphism.html#3134" class="Function">isoToEquiv</a> <a id="1515" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a>
    <a id="1524" class="Keyword">where</a> <a id="1530" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a> <a id="1535" class="Symbol">:</a> <a id="1537" href="Cubical.Foundations.Isomorphism.html#798" class="Record">Iso</a> <a id="1541" href="Cubical.Functions.Fibration.html#1403" class="Bound">E</a> <a id="1543" class="Symbol">(</a><a id="1544" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="1546" href="Cubical.Functions.Fibration.html#1385" class="Bound">B</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="1555" href="Cubical.Functions.Fibration.html#1416" class="Bound">p</a><a id="1556" class="Symbol">))</a>
          <a id="1569" href="Cubical.Foundations.Isomorphism.html#892" class="Field">Iso.fun</a> <a id="1577" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a> <a id="1582" href="Cubical.Functions.Fibration.html#1582" class="Bound">x</a>           <a id="1594" class="Symbol">=</a> <a id="1596" href="Cubical.Functions.Fibration.html#1416" class="Bound">p</a> <a id="1598" href="Cubical.Functions.Fibration.html#1582" class="Bound">x</a> <a id="1600" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1602" href="Cubical.Functions.Fibration.html#1582" class="Bound">x</a> <a id="1604" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1606" href="Cubical.Foundations.Prelude.html#898" class="Function">refl</a>
          <a id="1621" href="Cubical.Foundations.Isomorphism.html#908" class="Field">Iso.inv</a> <a id="1629" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Cubical.Functions.Fibration.html#1635" class="Bound">b</a> <a id="1637" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1639" href="Cubical.Functions.Fibration.html#1639" class="Bound">x</a> <a id="1641" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1643" href="Cubical.Functions.Fibration.html#1643" class="Bound">q</a><a id="1644" class="Symbol">)</a> <a id="1646" class="Symbol">=</a> <a id="1648" href="Cubical.Functions.Fibration.html#1639" class="Bound">x</a>
          <a id="1660" href="Cubical.Foundations.Isomorphism.html#955" class="Field">Iso.leftInv</a>  <a id="1673" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a> <a id="1678" href="Cubical.Functions.Fibration.html#1678" class="Bound">x</a>           <a id="1690" href="Cubical.Functions.Fibration.html#1690" class="Bound">i</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Cubical.Functions.Fibration.html#1678" class="Bound">x</a>
          <a id="1706" href="Cubical.Foundations.Isomorphism.html#924" class="Field">Iso.rightInv</a> <a id="1719" href="Cubical.Functions.Fibration.html#1530" class="Function">isom</a> <a id="1724" class="Symbol">(</a><a id="1725" href="Cubical.Functions.Fibration.html#1725" class="Bound">b</a> <a id="1727" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1729" href="Cubical.Functions.Fibration.html#1729" class="Bound">x</a> <a id="1731" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1733" href="Cubical.Functions.Fibration.html#1733" class="Bound">q</a><a id="1734" class="Symbol">)</a> <a id="1736" href="Cubical.Functions.Fibration.html#1736" class="Bound">i</a> <a id="1738" class="Symbol">=</a> <a id="1740" href="Cubical.Functions.Fibration.html#1733" class="Bound">q</a> <a id="1742" href="Cubical.Functions.Fibration.html#1736" class="Bound">i</a> <a id="1744" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1746" href="Cubical.Functions.Fibration.html#1729" class="Bound">x</a> <a id="1748" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1750" class="Symbol">λ</a> <a id="1752" href="Cubical.Functions.Fibration.html#1752" class="Bound">j</a> <a id="1754" class="Symbol">→</a> <a id="1756" href="Cubical.Functions.Fibration.html#1733" class="Bound">q</a> <a id="1758" class="Symbol">(</a><a id="1759" href="Cubical.Functions.Fibration.html#1736" class="Bound">i</a> <a id="1761" href="Cubical.Core.Primitives.html#469" class="Primitive Operator">∧</a> <a id="1763" href="Cubical.Functions.Fibration.html#1752" class="Bound">j</a><a id="1764" class="Symbol">)</a>

<a id="1767" class="Keyword">module</a> <a id="1774" href="Cubical.Functions.Fibration.html#1774" class="Module">_</a> <a id="1776" class="Symbol">{</a><a id="1777" href="Cubical.Functions.Fibration.html#1777" class="Bound">ℓb</a><a id="1779" class="Symbol">}</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a> <a id="1784" class="Symbol">:</a> <a id="1786" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1791" href="Cubical.Functions.Fibration.html#1777" class="Bound">ℓb</a><a id="1793" class="Symbol">)</a> <a id="1795" class="Symbol">(</a><a id="1796" href="Cubical.Functions.Fibration.html#1796" class="Bound">ℓ</a> <a id="1798" class="Symbol">:</a> <a id="1800" href="Agda.Primitive.html#523" class="Postulate">Level</a><a id="1805" class="Symbol">)</a> <a id="1807" class="Keyword">where</a>
  <a id="1815" class="Keyword">private</a>
    <a id="1827" href="Cubical.Functions.Fibration.html#1827" class="Function">ℓ&#39;</a> <a id="1830" class="Symbol">=</a> <a id="1832" href="Cubical.Core.Primitives.html#1202" class="Primitive">ℓ-max</a> <a id="1838" href="Cubical.Functions.Fibration.html#1777" class="Bound">ℓb</a> <a id="1841" href="Cubical.Functions.Fibration.html#1796" class="Bound">ℓ</a>

  <a id="1846" class="Comment">-- HoTT Theorem 4.8.3</a>
  <a id="1870" href="Cubical.Functions.Fibration.html#1870" class="Function">fibrationEquiv</a> <a id="1885" class="Symbol">:</a> <a id="1887" class="Symbol">(</a><a id="1888" href="Cubical.Core.Primitives.html#6302" class="Function">Σ[</a> <a id="1891" href="Cubical.Functions.Fibration.html#1891" class="Bound">E</a> <a id="1893" href="Cubical.Core.Primitives.html#6302" class="Function">∈</a> <a id="1895" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1900" href="Cubical.Functions.Fibration.html#1827" class="Function">ℓ&#39;</a> <a id="1903" href="Cubical.Core.Primitives.html#6302" class="Function">]</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Cubical.Functions.Fibration.html#1891" class="Bound">E</a> <a id="1908" class="Symbol">→</a> <a id="1910" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a><a id="1911" class="Symbol">))</a> <a id="1914" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="1916" class="Symbol">(</a><a id="1917" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a> <a id="1919" class="Symbol">→</a> <a id="1921" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1926" href="Cubical.Functions.Fibration.html#1827" class="Function">ℓ&#39;</a><a id="1928" class="Symbol">)</a>
  <a id="1932" href="Cubical.Functions.Fibration.html#1870" class="Function">fibrationEquiv</a> <a id="1947" class="Symbol">=</a> <a id="1949" href="Cubical.Foundations.Isomorphism.html#3134" class="Function">isoToEquiv</a> <a id="1960" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a>
    <a id="1969" class="Keyword">where</a> <a id="1975" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a> <a id="1980" class="Symbol">:</a> <a id="1982" href="Cubical.Foundations.Isomorphism.html#798" class="Record">Iso</a> <a id="1986" class="Symbol">(</a><a id="1987" href="Cubical.Core.Primitives.html#6302" class="Function">Σ[</a> <a id="1990" href="Cubical.Functions.Fibration.html#1990" class="Bound">E</a> <a id="1992" href="Cubical.Core.Primitives.html#6302" class="Function">∈</a> <a id="1994" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="1999" href="Cubical.Functions.Fibration.html#1827" class="Function">ℓ&#39;</a> <a id="2002" href="Cubical.Core.Primitives.html#6302" class="Function">]</a> <a id="2004" class="Symbol">(</a><a id="2005" href="Cubical.Functions.Fibration.html#1990" class="Bound">E</a> <a id="2007" class="Symbol">→</a> <a id="2009" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a><a id="2010" class="Symbol">))</a> <a id="2013" class="Symbol">(</a><a id="2014" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a> <a id="2016" class="Symbol">→</a> <a id="2018" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="2023" href="Cubical.Functions.Fibration.html#1827" class="Function">ℓ&#39;</a><a id="2025" class="Symbol">)</a>
          <a id="2037" href="Cubical.Foundations.Isomorphism.html#892" class="Field">Iso.fun</a> <a id="2045" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a> <a id="2050" class="Symbol">(</a><a id="2051" href="Cubical.Functions.Fibration.html#2051" class="Bound">E</a> <a id="2053" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2055" href="Cubical.Functions.Fibration.html#2055" class="Bound">p</a><a id="2056" class="Symbol">)</a> <a id="2058" class="Symbol">=</a> <a id="2060" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="2066" href="Cubical.Functions.Fibration.html#2055" class="Bound">p</a>
          <a id="2078" href="Cubical.Foundations.Isomorphism.html#908" class="Field">Iso.inv</a> <a id="2086" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a> <a id="2091" href="Cubical.Functions.Fibration.html#2091" class="Bound">p⁻¹</a>     <a id="2099" class="Symbol">=</a> <a id="2101" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="2103" href="Cubical.Functions.Fibration.html#1782" class="Bound">B</a> <a id="2105" href="Cubical.Functions.Fibration.html#2091" class="Bound">p⁻¹</a> <a id="2109" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2111" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a>
          <a id="2125" href="Cubical.Foundations.Isomorphism.html#924" class="Field">Iso.rightInv</a> <a id="2138" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a> <a id="2143" href="Cubical.Functions.Fibration.html#2143" class="Bound">p⁻¹</a> <a id="2147" href="Cubical.Functions.Fibration.html#2147" class="Bound">i</a> <a id="2149" href="Cubical.Functions.Fibration.html#2149" class="Bound">x</a> <a id="2151" class="Symbol">=</a> <a id="2153" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="2156" class="Symbol">(</a><a id="2157" href="Cubical.Functions.Fibration.html#1241" class="Function">fiberEquiv</a> <a id="2168" href="Cubical.Functions.Fibration.html#2143" class="Bound">p⁻¹</a> <a id="2172" href="Cubical.Functions.Fibration.html#2149" class="Bound">x</a><a id="2173" class="Symbol">)</a> <a id="2175" href="Cubical.Functions.Fibration.html#2147" class="Bound">i</a>
          <a id="2187" href="Cubical.Foundations.Isomorphism.html#955" class="Field">Iso.leftInv</a>  <a id="2200" href="Cubical.Functions.Fibration.html#1975" class="Function">isom</a> <a id="2205" class="Symbol">(</a><a id="2206" href="Cubical.Functions.Fibration.html#2206" class="Bound">E</a> <a id="2208" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2210" href="Cubical.Functions.Fibration.html#2210" class="Bound">p</a><a id="2211" class="Symbol">)</a> <a id="2213" href="Cubical.Functions.Fibration.html#2213" class="Bound">i</a> <a id="2215" class="Symbol">=</a> <a id="2217" href="Cubical.Foundations.Univalence.html#928" class="Function">ua</a> <a id="2220" href="Cubical.Functions.Fibration.html#2272" class="Function">e</a> <a id="2222" class="Symbol">(</a><a id="2223" href="Cubical.Core.Primitives.html#567" class="Primitive Operator">~</a> <a id="2225" href="Cubical.Functions.Fibration.html#2213" class="Bound">i</a><a id="2226" class="Symbol">)</a> <a id="2228" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2230" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="2234" href="Cubical.Foundations.Function.html#402" class="Function Operator">∘</a> <a id="2236" href="Cubical.Foundations.Univalence.html#1451" class="Function">ua-unglue</a> <a id="2246" href="Cubical.Functions.Fibration.html#2272" class="Function">e</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Cubical.Core.Primitives.html#567" class="Primitive Operator">~</a> <a id="2251" href="Cubical.Functions.Fibration.html#2213" class="Bound">i</a><a id="2252" class="Symbol">)</a>
            <a id="2266" class="Keyword">where</a> <a id="2272" href="Cubical.Functions.Fibration.html#2272" class="Function">e</a> <a id="2274" class="Symbol">=</a> <a id="2276" href="Cubical.Functions.Fibration.html#1458" class="Function">totalEquiv</a> <a id="2287" href="Cubical.Functions.Fibration.html#2210" class="Bound">p</a>

<a id="2290" class="Comment">-- The path type in a fiber of f is equivalent to a fiber of (cong f)</a>
<a id="fiber≡"></a><a id="2360" href="Cubical.Functions.Fibration.html#2360" class="Function">fiber≡</a> <a id="2367" class="Symbol">:</a> <a id="2369" class="Symbol">∀</a> <a id="2371" class="Symbol">{</a><a id="2372" href="Cubical.Functions.Fibration.html#2372" class="Bound">ℓ</a> <a id="2374" href="Cubical.Functions.Fibration.html#2374" class="Bound">ℓ&#39;</a><a id="2376" class="Symbol">}</a> <a id="2378" class="Symbol">{</a><a id="2379" href="Cubical.Functions.Fibration.html#2379" class="Bound">A</a> <a id="2381" class="Symbol">:</a> <a id="2383" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="2388" href="Cubical.Functions.Fibration.html#2372" class="Bound">ℓ</a><a id="2389" class="Symbol">}</a> <a id="2391" class="Symbol">{</a><a id="2392" href="Cubical.Functions.Fibration.html#2392" class="Bound">B</a> <a id="2394" class="Symbol">:</a> <a id="2396" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="2401" href="Cubical.Functions.Fibration.html#2374" class="Bound">ℓ&#39;</a><a id="2403" class="Symbol">}</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Cubical.Functions.Fibration.html#2406" class="Bound">f</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Cubical.Functions.Fibration.html#2379" class="Bound">A</a> <a id="2412" class="Symbol">→</a> <a id="2414" href="Cubical.Functions.Fibration.html#2392" class="Bound">B</a><a id="2415" class="Symbol">}</a> <a id="2417" class="Symbol">{</a><a id="2418" href="Cubical.Functions.Fibration.html#2418" class="Bound">b</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Cubical.Functions.Fibration.html#2392" class="Bound">B</a><a id="2423" class="Symbol">}</a> <a id="2425" class="Symbol">(</a><a id="2426" href="Cubical.Functions.Fibration.html#2426" class="Bound">h</a> <a id="2428" href="Cubical.Functions.Fibration.html#2428" class="Bound">h&#39;</a> <a id="2431" class="Symbol">:</a> <a id="2433" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="2439" href="Cubical.Functions.Fibration.html#2406" class="Bound">f</a> <a id="2441" href="Cubical.Functions.Fibration.html#2418" class="Bound">b</a><a id="2442" class="Symbol">)</a>
  <a id="2446" class="Symbol">→</a> <a id="2448" class="Symbol">(</a><a id="2449" href="Cubical.Functions.Fibration.html#2426" class="Bound">h</a> <a id="2451" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2453" href="Cubical.Functions.Fibration.html#2428" class="Bound">h&#39;</a><a id="2455" class="Symbol">)</a> <a id="2457" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2459" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="2465" class="Symbol">(</a><a id="2466" href="Cubical.Foundations.Prelude.html#1138" class="Function">cong</a> <a id="2471" href="Cubical.Functions.Fibration.html#2406" class="Bound">f</a><a id="2472" class="Symbol">)</a> <a id="2474" class="Symbol">(</a><a id="2475" href="Cubical.Functions.Fibration.html#2426" class="Bound">h</a> <a id="2477" class="Symbol">.</a><a id="2478" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2482" href="Cubical.Foundations.Prelude.html#2119" class="Function Operator">∙∙</a> <a id="2485" href="Cubical.Foundations.Prelude.html#898" class="Function">refl</a> <a id="2490" href="Cubical.Foundations.Prelude.html#2119" class="Function Operator">∙∙</a> <a id="2493" href="Cubical.Foundations.Prelude.html#955" class="Function">sym</a> <a id="2497" class="Symbol">(</a><a id="2498" href="Cubical.Functions.Fibration.html#2428" class="Bound">h&#39;</a> <a id="2501" class="Symbol">.</a><a id="2502" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a><a id="2505" class="Symbol">))</a>
<a id="2508" href="Cubical.Functions.Fibration.html#2360" class="Function">fiber≡</a> <a id="2515" class="Symbol">{</a><a id="2516" class="Argument">f</a> <a id="2518" class="Symbol">=</a> <a id="2520" href="Cubical.Functions.Fibration.html#2520" class="Bound">f</a><a id="2521" class="Symbol">}</a> <a id="2523" href="Cubical.Functions.Fibration.html#2523" class="Bound">h</a> <a id="2525" href="Cubical.Functions.Fibration.html#2525" class="Bound">h&#39;</a> <a id="2528" class="Symbol">=</a>
  <a id="2532" href="Cubical.Data.Sigma.Properties.html#2572" class="Function">ΣPath≡PathΣ</a> <a id="2544" href="Cubical.Foundations.GroupoidLaws.html#311" class="Function Operator">⁻¹</a> <a id="2547" href="Cubical.Foundations.Prelude.html#3321" class="Function Operator">∙</a>
  <a id="2551" href="Cubical.Foundations.Prelude.html#1138" class="Function">cong</a> <a id="2556" class="Symbol">(</a><a id="2557" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="2559" class="Symbol">(</a><a id="2560" href="Cubical.Functions.Fibration.html#2523" class="Bound">h</a> <a id="2562" class="Symbol">.</a><a id="2563" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="2567" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2569" href="Cubical.Functions.Fibration.html#2525" class="Bound">h&#39;</a> <a id="2572" class="Symbol">.</a><a id="2573" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a><a id="2576" class="Symbol">))</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Cubical.Foundations.Prelude.html#7623" class="Function">funExt</a> <a id="2587" class="Symbol">λ</a> <a id="2589" href="Cubical.Functions.Fibration.html#2589" class="Bound">p</a> <a id="2591" class="Symbol">→</a> <a id="2593" href="Cubical.Foundations.Path.html#7199" class="Function">flipSquarePath</a> <a id="2608" href="Cubical.Foundations.Prelude.html#3321" class="Function Operator">∙</a> <a id="2610" href="Cubical.Foundations.Path.html#4893" class="Function">PathP≡doubleCompPathʳ</a> <a id="2632" class="Symbol">_</a> <a id="2634" class="Symbol">_</a> <a id="2636" class="Symbol">_</a> <a id="2638" class="Symbol">_)</a>

