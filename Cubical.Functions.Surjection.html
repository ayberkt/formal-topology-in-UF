<a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-import-sorts</a> <a id="41" class="Pragma">--safe</a> <a id="48" class="Symbol">#-}</a>
<a id="52" class="Keyword">module</a> <a id="59" href="Cubical.Functions.Surjection.html" class="Module">Cubical.Functions.Surjection</a> <a id="88" class="Keyword">where</a>

<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Cubical.Core.Everything.html" class="Module">Cubical.Core.Everything</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>
<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Cubical.Foundations.HLevels.html" class="Module">Cubical.Foundations.HLevels</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Cubical.Foundations.Isomorphism.html" class="Module">Cubical.Foundations.Isomorphism</a>
<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Cubical.Foundations.Equiv.html" class="Module">Cubical.Foundations.Equiv</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Cubical.Functions.Embedding.html" class="Module">Cubical.Functions.Embedding</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Cubical.HITs.PropositionalTruncation.html" class="Module">Cubical.HITs.PropositionalTruncation</a> <a id="413" class="Symbol">as</a> <a id="416" class="Module">PropTrunc</a>

<a id="427" class="Keyword">private</a>
  <a id="437" class="Keyword">variable</a>
    <a id="450" href="Cubical.Functions.Surjection.html#450" class="Generalizable">ℓ</a> <a id="452" href="Cubical.Functions.Surjection.html#452" class="Generalizable">ℓ&#39;</a> <a id="455" class="Symbol">:</a> <a id="457" href="Agda.Primitive.html#523" class="Postulate">Level</a>
    <a id="467" href="Cubical.Functions.Surjection.html#467" class="Generalizable">A</a> <a id="469" class="Symbol">:</a> <a id="471" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="476" href="Cubical.Functions.Surjection.html#450" class="Generalizable">ℓ</a>
    <a id="482" href="Cubical.Functions.Surjection.html#482" class="Generalizable">B</a> <a id="484" class="Symbol">:</a> <a id="486" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="491" href="Cubical.Functions.Surjection.html#452" class="Generalizable">ℓ&#39;</a>
    <a id="498" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="500" class="Symbol">:</a> <a id="502" href="Cubical.Functions.Surjection.html#467" class="Generalizable">A</a> <a id="504" class="Symbol">→</a> <a id="506" href="Cubical.Functions.Surjection.html#482" class="Generalizable">B</a>

<a id="isSurjection"></a><a id="509" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="522" class="Symbol">:</a> <a id="524" class="Symbol">(</a><a id="525" href="Cubical.Functions.Surjection.html#467" class="Generalizable">A</a> <a id="527" class="Symbol">→</a> <a id="529" href="Cubical.Functions.Surjection.html#482" class="Generalizable">B</a><a id="530" class="Symbol">)</a> <a id="532" class="Symbol">→</a> <a id="534" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="539" class="Symbol">_</a>
<a id="541" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="554" href="Cubical.Functions.Surjection.html#554" class="Bound">f</a> <a id="556" class="Symbol">=</a> <a id="558" class="Symbol">∀</a> <a id="560" href="Cubical.Functions.Surjection.html#560" class="Bound">b</a> <a id="562" class="Symbol">→</a> <a id="564" href="Cubical.HITs.PropositionalTruncation.Base.html#277" class="Datatype Operator">∥</a> <a id="566" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="572" href="Cubical.Functions.Surjection.html#554" class="Bound">f</a> <a id="574" href="Cubical.Functions.Surjection.html#560" class="Bound">b</a> <a id="576" href="Cubical.HITs.PropositionalTruncation.Base.html#277" class="Datatype Operator">∥</a>

<a id="_↠_"></a><a id="579" href="Cubical.Functions.Surjection.html#579" class="Function Operator">_↠_</a> <a id="583" class="Symbol">:</a> <a id="585" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="590" href="Cubical.Functions.Surjection.html#450" class="Generalizable">ℓ</a> <a id="592" class="Symbol">→</a> <a id="594" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="599" href="Cubical.Functions.Surjection.html#452" class="Generalizable">ℓ&#39;</a> <a id="602" class="Symbol">→</a> <a id="604" href="Cubical.Core.Primitives.html#1230" class="Primitive">Type</a> <a id="609" class="Symbol">(</a><a id="610" href="Cubical.Core.Primitives.html#1202" class="Primitive">ℓ-max</a> <a id="616" href="Cubical.Functions.Surjection.html#450" class="Generalizable">ℓ</a> <a id="618" href="Cubical.Functions.Surjection.html#452" class="Generalizable">ℓ&#39;</a><a id="620" class="Symbol">)</a>
<a id="622" href="Cubical.Functions.Surjection.html#622" class="Bound">A</a> <a id="624" href="Cubical.Functions.Surjection.html#579" class="Function Operator">↠</a> <a id="626" href="Cubical.Functions.Surjection.html#626" class="Bound">B</a> <a id="628" class="Symbol">=</a> <a id="630" href="Cubical.Core.Primitives.html#6302" class="Function">Σ[</a> <a id="633" href="Cubical.Functions.Surjection.html#633" class="Bound">f</a> <a id="635" href="Cubical.Core.Primitives.html#6302" class="Function">∈</a> <a id="637" class="Symbol">(</a><a id="638" href="Cubical.Functions.Surjection.html#622" class="Bound">A</a> <a id="640" class="Symbol">→</a> <a id="642" href="Cubical.Functions.Surjection.html#626" class="Bound">B</a><a id="643" class="Symbol">)</a> <a id="645" href="Cubical.Core.Primitives.html#6302" class="Function">]</a> <a id="647" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="660" href="Cubical.Functions.Surjection.html#633" class="Bound">f</a>

<a id="section→isSurjection"></a><a id="663" href="Cubical.Functions.Surjection.html#663" class="Function">section→isSurjection</a> <a id="684" class="Symbol">:</a> <a id="686" class="Symbol">{</a><a id="687" href="Cubical.Functions.Surjection.html#687" class="Bound">g</a> <a id="689" class="Symbol">:</a> <a id="691" href="Cubical.Functions.Surjection.html#482" class="Generalizable">B</a> <a id="693" class="Symbol">→</a> <a id="695" href="Cubical.Functions.Surjection.html#467" class="Generalizable">A</a><a id="696" class="Symbol">}</a> <a id="698" class="Symbol">→</a> <a id="700" href="Cubical.Foundations.Isomorphism.html#596" class="Function">section</a> <a id="708" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="710" href="Cubical.Functions.Surjection.html#687" class="Bound">g</a> <a id="712" class="Symbol">→</a> <a id="714" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="727" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a>
<a id="729" href="Cubical.Functions.Surjection.html#663" class="Function">section→isSurjection</a> <a id="750" class="Symbol">{</a><a id="751" class="Argument">g</a> <a id="753" class="Symbol">=</a> <a id="755" href="Cubical.Functions.Surjection.html#755" class="Bound">g</a><a id="756" class="Symbol">}</a> <a id="758" href="Cubical.Functions.Surjection.html#758" class="Bound">s</a> <a id="760" href="Cubical.Functions.Surjection.html#760" class="Bound">b</a> <a id="762" class="Symbol">=</a> <a id="764" href="Cubical.HITs.PropositionalTruncation.Base.html#315" class="InductiveConstructor Operator">∣</a> <a id="766" href="Cubical.Functions.Surjection.html#755" class="Bound">g</a> <a id="768" href="Cubical.Functions.Surjection.html#760" class="Bound">b</a> <a id="770" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="772" href="Cubical.Functions.Surjection.html#758" class="Bound">s</a> <a id="774" href="Cubical.Functions.Surjection.html#760" class="Bound">b</a> <a id="776" href="Cubical.HITs.PropositionalTruncation.Base.html#315" class="InductiveConstructor Operator">∣</a>

<a id="isSurjectionIsProp"></a><a id="779" href="Cubical.Functions.Surjection.html#779" class="Function">isSurjectionIsProp</a> <a id="798" class="Symbol">:</a> <a id="800" href="Cubical.Foundations.Prelude.html#9981" class="Function">isProp</a> <a id="807" class="Symbol">(</a><a id="808" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="821" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a><a id="822" class="Symbol">)</a>
<a id="824" href="Cubical.Functions.Surjection.html#779" class="Function">isSurjectionIsProp</a> <a id="843" class="Symbol">=</a> <a id="845" href="Cubical.Foundations.HLevels.html#14398" class="Function">isPropΠ</a> <a id="853" class="Symbol">λ</a> <a id="855" href="Cubical.Functions.Surjection.html#855" class="Bound">_</a> <a id="857" class="Symbol">→</a> <a id="859" href="Cubical.HITs.PropositionalTruncation.Base.html#333" class="InductiveConstructor">squash</a>

<a id="isEquiv→isSurjection"></a><a id="867" href="Cubical.Functions.Surjection.html#867" class="Function">isEquiv→isSurjection</a> <a id="888" class="Symbol">:</a> <a id="890" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="898" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="900" class="Symbol">→</a> <a id="902" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="915" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a>
<a id="917" href="Cubical.Functions.Surjection.html#867" class="Function">isEquiv→isSurjection</a> <a id="938" href="Cubical.Functions.Surjection.html#938" class="Bound">e</a> <a id="940" href="Cubical.Functions.Surjection.html#940" class="Bound">b</a> <a id="942" class="Symbol">=</a> <a id="944" href="Cubical.HITs.PropositionalTruncation.Base.html#315" class="InductiveConstructor Operator">∣</a> <a id="946" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="950" class="Symbol">(</a><a id="951" href="Agda.Builtin.Cubical.Glue.html#971" class="Field">equiv-proof</a> <a id="963" href="Cubical.Functions.Surjection.html#938" class="Bound">e</a> <a id="965" href="Cubical.Functions.Surjection.html#940" class="Bound">b</a><a id="966" class="Symbol">)</a> <a id="968" href="Cubical.HITs.PropositionalTruncation.Base.html#315" class="InductiveConstructor Operator">∣</a>

<a id="isEquiv→isEmbedding×isSurjection"></a><a id="971" href="Cubical.Functions.Surjection.html#971" class="Function">isEquiv→isEmbedding×isSurjection</a> <a id="1004" class="Symbol">:</a> <a id="1006" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="1014" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1016" class="Symbol">→</a> <a id="1018" href="Cubical.Functions.Embedding.html#879" class="Function">isEmbedding</a> <a id="1030" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1032" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">×</a> <a id="1034" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="1047" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a>
<a id="1049" href="Cubical.Functions.Surjection.html#971" class="Function">isEquiv→isEmbedding×isSurjection</a> <a id="1082" href="Cubical.Functions.Surjection.html#1082" class="Bound">e</a> <a id="1084" class="Symbol">=</a> <a id="1086" href="Cubical.Functions.Embedding.html#3984" class="Function">isEquiv→isEmbedding</a> <a id="1106" href="Cubical.Functions.Surjection.html#1082" class="Bound">e</a> <a id="1108" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1110" href="Cubical.Functions.Surjection.html#867" class="Function">isEquiv→isSurjection</a> <a id="1131" href="Cubical.Functions.Surjection.html#1082" class="Bound">e</a>

<a id="isEmbedding×isSurjection→isEquiv"></a><a id="1134" href="Cubical.Functions.Surjection.html#1134" class="Function">isEmbedding×isSurjection→isEquiv</a> <a id="1167" class="Symbol">:</a> <a id="1169" href="Cubical.Functions.Embedding.html#879" class="Function">isEmbedding</a> <a id="1181" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1183" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">×</a> <a id="1185" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="1198" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1200" class="Symbol">→</a> <a id="1202" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="1210" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a>
<a id="1212" href="Agda.Builtin.Cubical.Glue.html#971" class="Field">equiv-proof</a> <a id="1224" class="Symbol">(</a><a id="1225" href="Cubical.Functions.Surjection.html#1134" class="Function">isEmbedding×isSurjection→isEquiv</a> <a id="1258" class="Symbol">{</a><a id="1259" class="Argument">f</a> <a id="1261" class="Symbol">=</a> <a id="1263" href="Cubical.Functions.Surjection.html#1263" class="Bound">f</a><a id="1264" class="Symbol">}</a> <a id="1266" class="Symbol">(</a><a id="1267" href="Cubical.Functions.Surjection.html#1267" class="Bound">emb</a> <a id="1271" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1273" href="Cubical.Functions.Surjection.html#1273" class="Bound">sur</a><a id="1276" class="Symbol">))</a> <a id="1279" href="Cubical.Functions.Surjection.html#1279" class="Bound">b</a> <a id="1281" class="Symbol">=</a>
  <a id="1285" href="Cubical.Foundations.HLevels.html#18134" class="Function">inhProp→isContr</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Cubical.HITs.PropositionalTruncation.Properties.html#609" class="Function">PropTrunc.rec</a> <a id="1316" href="Cubical.Functions.Surjection.html#1451" class="Function">fib&#39;</a> <a id="1321" class="Symbol">(λ</a> <a id="1324" href="Cubical.Functions.Surjection.html#1324" class="Bound">x</a> <a id="1326" class="Symbol">→</a> <a id="1328" href="Cubical.Functions.Surjection.html#1324" class="Bound">x</a><a id="1329" class="Symbol">)</a> <a id="1331" href="Cubical.Functions.Surjection.html#1414" class="Function">fib</a><a id="1334" class="Symbol">)</a> <a id="1336" href="Cubical.Functions.Surjection.html#1451" class="Function">fib&#39;</a>
  <a id="1343" class="Keyword">where</a>
  <a id="1351" href="Cubical.Functions.Surjection.html#1351" class="Function">hpf</a> <a id="1355" class="Symbol">:</a> <a id="1357" href="Cubical.Functions.Embedding.html#2236" class="Function">hasPropFibers</a> <a id="1371" href="Cubical.Functions.Surjection.html#1263" class="Bound">f</a>
  <a id="1375" href="Cubical.Functions.Surjection.html#1351" class="Function">hpf</a> <a id="1379" class="Symbol">=</a> <a id="1381" href="Cubical.Functions.Embedding.html#2517" class="Function">isEmbedding→hasPropFibers</a> <a id="1407" href="Cubical.Functions.Surjection.html#1267" class="Bound">emb</a>

  <a id="1414" href="Cubical.Functions.Surjection.html#1414" class="Function">fib</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="Cubical.HITs.PropositionalTruncation.Base.html#277" class="Datatype Operator">∥</a> <a id="1422" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="1428" href="Cubical.Functions.Surjection.html#1263" class="Bound">f</a> <a id="1430" href="Cubical.Functions.Surjection.html#1279" class="Bound">b</a> <a id="1432" href="Cubical.HITs.PropositionalTruncation.Base.html#277" class="Datatype Operator">∥</a>
  <a id="1436" href="Cubical.Functions.Surjection.html#1414" class="Function">fib</a> <a id="1440" class="Symbol">=</a> <a id="1442" href="Cubical.Functions.Surjection.html#1273" class="Bound">sur</a> <a id="1446" href="Cubical.Functions.Surjection.html#1279" class="Bound">b</a>

  <a id="1451" href="Cubical.Functions.Surjection.html#1451" class="Function">fib&#39;</a> <a id="1456" class="Symbol">:</a> <a id="1458" href="Cubical.Foundations.Prelude.html#9981" class="Function">isProp</a> <a id="1465" class="Symbol">(</a><a id="1466" href="Cubical.Foundations.Equiv.Base.html#281" class="Function">fiber</a> <a id="1472" href="Cubical.Functions.Surjection.html#1263" class="Bound">f</a> <a id="1474" href="Cubical.Functions.Surjection.html#1279" class="Bound">b</a><a id="1475" class="Symbol">)</a>
  <a id="1479" href="Cubical.Functions.Surjection.html#1451" class="Function">fib&#39;</a> <a id="1484" class="Symbol">=</a> <a id="1486" href="Cubical.Functions.Surjection.html#1351" class="Function">hpf</a> <a id="1490" href="Cubical.Functions.Surjection.html#1279" class="Bound">b</a>

<a id="isEquiv≃isEmbedding×isSurjection"></a><a id="1493" href="Cubical.Functions.Surjection.html#1493" class="Function">isEquiv≃isEmbedding×isSurjection</a> <a id="1526" class="Symbol">:</a> <a id="1528" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="1536" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1538" href="Agda.Builtin.Cubical.Glue.html#1051" class="Function Operator">≃</a> <a id="1540" href="Cubical.Functions.Embedding.html#879" class="Function">isEmbedding</a> <a id="1552" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a> <a id="1554" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">×</a> <a id="1556" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="1569" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a>
<a id="1571" href="Cubical.Functions.Surjection.html#1493" class="Function">isEquiv≃isEmbedding×isSurjection</a> <a id="1604" class="Symbol">=</a> <a id="1606" href="Cubical.Foundations.Isomorphism.html#3152" class="Function">isoToEquiv</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Cubical.Foundations.Isomorphism.html#894" class="InductiveConstructor">iso</a>
  <a id="1624" href="Cubical.Functions.Surjection.html#971" class="Function">isEquiv→isEmbedding×isSurjection</a>
  <a id="1659" href="Cubical.Functions.Surjection.html#1134" class="Function">isEmbedding×isSurjection→isEquiv</a>
  <a id="1694" class="Symbol">(λ</a> <a id="1697" href="Cubical.Functions.Surjection.html#1697" class="Bound">_</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="Cubical.Foundations.HLevels.html#11502" class="Function">isOfHLevelΣ</a> <a id="1713" class="Number">1</a> <a id="1715" href="Cubical.Functions.Embedding.html#964" class="Function">isEmbeddingIsProp</a> <a id="1733" class="Symbol">(\</a> <a id="1736" href="Cubical.Functions.Surjection.html#1736" class="Bound">_</a> <a id="1738" class="Symbol">→</a> <a id="1740" href="Cubical.Functions.Surjection.html#779" class="Function">isSurjectionIsProp</a><a id="1758" class="Symbol">)</a> <a id="1760" class="Symbol">_</a> <a id="1762" class="Symbol">_)</a>
  <a id="1767" class="Symbol">(λ</a> <a id="1770" href="Cubical.Functions.Surjection.html#1770" class="Bound">_</a> <a id="1772" class="Symbol">→</a> <a id="1774" href="Cubical.Foundations.Equiv.html#1569" class="Function">isPropIsEquiv</a> <a id="1788" class="Symbol">_</a> <a id="1790" class="Symbol">_</a> <a id="1792" class="Symbol">_))</a>

<a id="isPropIsSurjection"></a><a id="1797" href="Cubical.Functions.Surjection.html#1797" class="Function">isPropIsSurjection</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="Cubical.Foundations.Prelude.html#9981" class="Function">isProp</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Cubical.Functions.Surjection.html#509" class="Function">isSurjection</a> <a id="1839" href="Cubical.Functions.Surjection.html#498" class="Generalizable">f</a><a id="1840" class="Symbol">)</a>
<a id="1842" href="Cubical.Functions.Surjection.html#1797" class="Function">isPropIsSurjection</a> <a id="1861" class="Symbol">=</a> <a id="1863" href="Cubical.Foundations.HLevels.html#14398" class="Function">isPropΠ</a> <a id="1871" class="Symbol">λ</a> <a id="1873" href="Cubical.Functions.Surjection.html#1873" class="Bound">_</a> <a id="1875" class="Symbol">→</a> <a id="1877" href="Cubical.HITs.PropositionalTruncation.Properties.html#1743" class="Function">propTruncIsProp</a>
